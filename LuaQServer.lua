--discord.gg/boronide, code generated using luamin.jsâ„¢



local a={}a.status="Loading"local b=(function(...)local a=string.sub;local b=string.gmatch;local c=tonumber;local d=string.find;local e=string.byte;local f=string.format;local b=(function(...)local g={}local h={}local i={}local j={}local k={}local l={}local m=8;local function n(a)if not a then return 0 end end;function g:z(a)local b=512;local c=1;return function()local d=a:sub(c,c+b-1)c=math.min(#a+1,c+b)return d end end;function g:Il(a,b)if not a then return end;local c={}c.r=a;c.d=b or""c.n=b;if not b or b==""then c.n=0 else c.n=#b end;c.p=0;return c end;function g:fc(b)local c=b.r()b.d=c;if not c or c==""then return"EOZ"end;b.n,b.p=#c-1,1;return a(c,1,1)end;function g:gz(b)local c,d=b.n,b.p+1;if c>0 then b.n,b.p=c-1,d;return a(b.d,d,d)else return self:fc(b)end end;i.r="TK_AND and\nTK_BREAK break\nTK_DO do\nTK_ELSE else\nTK_ELSEIF elseif\nTK_END end\nTK_FALSE false\nTK_FOR for\nTK_FUNCTION function\nTK_IF if\nTK_IN in\nTK_LOCAL local\nTK_NIL nil\nTK_NOT not\nTK_OR or\nTK_REPEAT repeat\nTK_RETURN return\nTK_THEN then\nTK_TRUE true\nTK_UNTIL until\nTK_WHILE while\nTK_wwww ..\nTK_DOTS ...\nTK_EQ ==\nTK_GE >=\nTK_LE <=\nTK_NE ~=\nTK_NAME <n>\nTK_NUMBER <number>\nTK_STRING <string>\nTK_EOS <eof>"i.ms=80;i.mi=2147483645;i.lq="'%s'"i.ll=1;function i:Il()local a,c={},{}for b in b(self.r,"[^\n]+")do local b,b,b,d=d(b,"(%S+)%s+(%S+)")a[b]=d;c[d]=b end;self.vwvvvvs=a;self.enums=c end;function i:Ci(b,c)local e;local f=a(b,1,1)if f=="="then e=a(b,2,c)else if f=="@"then b=a(b,2)c=c-7;local d=#b;e=""if d>c then b=a(b,1+d-c)e=e.."..."end;e=e..b else local d=d(b,"[\n\r]")d=d and d-1 or#b;c=c-16;if d>c then d=c end;e='[string "'if d<#b then e=e..a(b,1,d).."..."else e=e..b end;e=e..'"]'end end;return e end;function i:vwvvvv2str(b,b)if a(b,1,3)~="TK_"then if d(b,"%c")then return f("char(%d)",e(b))end;return b else return self.vwvvvvs[b]end end;function i:lexerror(a,b,c)local function d(a,b)if b=="TK_NAME"or b=="TK_STRING"or b=="TK_NUMBER"then return a.buff else return self:vwvvvv2str(a,b)end end;local e=self:Ci(a.source,self.ms)local b=f("%s:%d: %s",e,a.vvvvv,b)if c then b=f("%s near "..self.lq,b,d(a,c))end;error(b)end;function i:sR(a,b)self:lexerror(a,b,a.t.vwvvvv)end;function i:XcD(a)return a.current=="\n"or a.current=="\r"end;function i:incvvvvv(a)local b=a.current;self:nextc(a)if self:XcD(a)and a.current~=b then self:nextc(a)end;a.vvvvv=a.vvvvv+1;if a.vvvvv>=self.mi then self:sR(a,"Xz has too many lines")end end;function i:setinput(a,b,c,d)if not b then b={}end;if not b.LA then b.LA={}end;if not b.t then b.t={}end;b.decpoint="."b.L=a;b.LA.vwvvvv="TK_EOS"b.z=c;b.fs=nil;b.vvvvv=1;b.lastline=1;b.source=d;self:nextc(b)end;function i:check_next(a,b)if not d(b,a.current,1,1)then return false end;self:Sy(a)return true end;function i:next(a)a.lastline=a.vvvvv;if a.LA.vwvvvv~="TK_EOS"then a.t.seminfo=a.LA.seminfo;a.t.vwvvvv=a.LA.vwvvvv;a.LA.vwvvvv="TK_EOS"else a.t.vwvvvv=self:llex(a,a.t)end end;function i:LA(a)a.LA.vwvvvv=self:llex(a,a.LA)end;function i:nextc(a)local b=g:gz(a.z)a.current=b;return b end;function i:save(a,b)local c=a.buff;a.buff=c..b end;function i:Sy(a)self:save(a,a.current)return self:nextc(a)end;function i:str2d(b)local d=c(b)if d then return d end;if string.lower(a(b,1,2))=="0x"then d=c(b,16)if d then return d end end;return nil end;function i:buffreplace(b,c,d)local e,f="",b.buff;for b=1,#f do local a=a(f,b,b)if a==c then a=d end;e=e..a end;b.buff=e end;function i:trydecpoint(a,b)local c=a.decpoint;self:buffreplace(a,c,a.decpoint)local c=self:str2d(a.buff)b.seminfo=c;if not c then self:buffreplace(a,a.decpoint,".")self:lexerror(a,"malformed number","TK_NUMBER")end end;function i:read_numeral(a,b)repeat self:Sy(a)until d(a.current,"%D")and a.current~="."if self:check_next(a,"Ee")then self:check_next(a,"+-")end;while d(a.current,"^%w$")or a.current=="_"do self:Sy(a)end;self:buffreplace(a,".",a.decpoint)local c=self:str2d(a.buff)b.seminfo=c;if not c then self:trydecpoint(a,b)end end;function i:skip_sep(a)local b=0;local c=a.current;self:Sy(a)while a.current=="="do self:Sy(a)b=b+1 end;return a.current==c and b or-b-1 end;function i:RSl(b,c,d)local e=0;self:Sy(b)if self:XcD(b)then self:incvvvvv(b)end;while true do local a=b.current;if a=="EOZ"then self:lexerror(b,c and"unfinished long string"or"unfinished long comment","TK_EOS")elseif a=="["then if self.ll then if self:skip_sep(b)==d then self:Sy(b)e=e+1;if self.ll==1 then if d==0 then self:lexerror(b,"nesting of [[...]] is deprecated","[")end end end end elseif a=="]"then if self:skip_sep(b)==d then self:Sy(b)if self.ll and self.ll==2 then e=e-1;if d==0 and e>=0 then break end end;break end elseif self:XcD(b)then self:save(b,"\n")self:incvvvvv(b)if not c then b.buff=""end else if c then self:Sy(b)else self:nextc(b)end end end;if c then local d=3+d;c.seminfo=a(b.buff,d,-d)end end;function i:read_string(b,c,e)self:Sy(b)while b.current~=c do local c=b.current;if c=="EOZ"then self:lexerror(b,"unfinished string","TK_EOS")elseif self:XcD(b)then self:lexerror(b,"unfinished string","TK_STRING")elseif c=="\\"then c=self:nextc(b)if self:XcD(b)then self:save(b,"\n")self:incvvvvv(b)elseif c~="EOZ"then local e=d("abfnrtv",c,1,1)if e then self:save(b,a("\a\b\f\n\r\t\v",e,e))self:nextc(b)elseif not d(c,"%d")then self:Sy(b)else c,e=0,0;repeat c=10*c+b.current;self:nextc(b)e=e+1 until e>=3 or not d(b.current,"%d")if c>255 then self:lexerror(b,"escape sequence too large","TK_STRING")end;self:save(b,string.char(c))end end else self:Sy(b)end end;self:Sy(b)e.seminfo=a(b.buff,2,-2)end;function i:llex(a,b)a.buff=""while true do local c=a.current;if self:XcD(a)then self:incvvvvv(a)elseif c=="-"then c=self:nextc(a)if c~="-"then return"-"end;local b=-1if self:nextc(a)=="["then b=self:skip_sep(a)a.buff=""end;if b>=0 then self:RSl(a,nil,b)a.buff=""else while not self:XcD(a)and a.current~="EOZ"do self:nextc(a)end end elseif c=="["then local c=self:skip_sep(a)if c>=0 then self:RSl(a,b,c)return"TK_STRING"elseif c==-1then return"["else self:lexerror(a,"invalid long string delimiter","TK_STRING")end elseif c=="="then c=self:nextc(a)if c~="="then return"="else self:nextc(a)return"TK_EQ"end elseif c=="<"then c=self:nextc(a)if c~="="then return"<"else self:nextc(a)return"TK_LE"end elseif c==">"then c=self:nextc(a)if c~="="then return">"else self:nextc(a)return"TK_GE"end elseif c=="~"then c=self:nextc(a)if c~="="then return"~"else self:nextc(a)return"TK_NE"end elseif c=='"'or c=="'"then self:read_string(a,c,b)return"TK_STRING"elseif c=="."then c=self:Sy(a)if self:check_next(a,".")then if self:check_next(a,".")then return"TK_DOTS"else return"TK_wwww"end elseif not d(c,"%d")then return"."else self:read_numeral(a,b)return"TK_NUMBER"end elseif c=="EOZ"then return"TK_EOS"else if d(c,"%s")then self:nextc(a)elseif d(c,"%d")then self:read_numeral(a,b)return"TK_NUMBER"elseif d(c,"[_%a]")then repeat c=self:Sy(a)until c=="EOZ"or not d(c,"[_%w]")local a=a.buff;local c=self.enums[a]if c then return c end;b.seminfo=a;return"TK_NAME"else self:nextc(a)return c end end end end;j.OpMode={iABC=0,iABx=1,iAsBx=2}j.SIZE_C=9;j.SIZE_B=9;j.SIZE_Bx=j.SIZE_C+j.SIZE_B;j.SIZE_A=8;j.SIZE_OP=6;j.POS_OP=0;j.POS_A=j.POS_OP+j.SIZE_OP;j.POS_C=j.POS_A+j.SIZE_A;j.POS_B=j.POS_C+j.SIZE_C;j.POS_Bx=j.POS_C;j.MAXARG_Bx=math.ldexp(1,j.SIZE_Bx)-1;j.MAXARG_sBx=math.floor(j.MAXARG_Bx/2)j.MAXARG_A=math.ldexp(1,j.SIZE_A)-1;j.MAXARG_B=math.ldexp(1,j.SIZE_B)-1;j.MAXARG_C=math.ldexp(1,j.SIZE_C)-1;function j:go(a)return self.ROpC[a.OP]end;function j:Bd(a,b)a.OP=self.OpC[b]end;function j:Xc(a)return a.A end;function j:Sa(a,b)a.A=b end;function j:GETARG_B(a)return a.B end;function j:ST(a,b)a.B=b end;function j:GETARG_C(a)return a.C end;function j:Sc(a,b)a.C=b end;function j:GETARG_Bx(a)return a.Bx end;function j:SETARG_Bx(a,b)a.Bx=b end;function j:gv(a)return a.Bx-self.MAXARG_sBx end;function j:jk(a,b)a.Bx=b+self.MAXARG_sBx end;function j:CREATE_ABC(a,b,c,d)return{OP=self.OpC[a],A=b,B=c,C=d}end;function j:CREATE_ABx(a,b,c)return{OP=self.OpC[a],A=b,Bx=c}end;function j:CREATE_Inst(a)local b=a%64;a=(a-b)/64;local c=a%256;a=(a-c)/256;return self:CREATE_ABx(b,c,a)end;function j:Instruction(a)if a.Bx then a.C=a.Bx%512;a.B=(a.Bx-a.C)/512 end;local b=a.A*64+a.OP;local c=b%256;b=a.C*64+(b-c)/256;local d=b%256;b=a.B*128+(b-d)/256;local a=b%256;local b=(b-a)/256;return string.char(c,d,a,b)end;function j:DeCInst(b)local d=e;local e={}local f=d(b,1)local g=f%64;e.OP=g;f=d(b,2)*4+(f-g)/64;local h=f%256;e.A=h;f=d(b,3)*4+(f-h)/256;local h=f%512;e.C=h;e.B=d(b,4)*2+(f-h)/512;local a=self.OpMode[c(a(self.opmodes[g+1],7,7))]if a~="iABC"then e.Bx=e.B*512+e.C end;return e end;j.BITRK=math.ldexp(1,j.SIZE_B-1)function j:ISK(a)return a>=self.BITRK end;function j:INDEXK(a)return x-self.BITRK end;j.MAXINDEXRK=j.BITRK-1;function j:RKASK(a)return a+self.BITRK end;j.NO_REG=j.MAXARG_A;j.opns={}j.OpC={}j.ROpC={}local a=0;for b in b("MOVE LOADK LOADBOOL LOADNIL GETUa\nGETGLOBAL GETTABLE SETGLOBAL SETUa SETTABLE\nNEWTABLE SELF ADD SUB MUL\nDIV MOD POW UNM NOT\nLEN wwww JMP EQ LT\nLE TEST TESTSET CALL TAILCALL\nRETURN FORLOOP FORPREP TFORLOOP SETLIST\nCLOSE CLOSURE VARARG","%S+")do local c="OP_"..b;j.opns[a]=b;j.OpC[c]=a;j.ROpC[a]=c;a=a+1 end;j.NUM_OPCS=a;j.OpArgMask={OpArgN=0,OpArgU=1,OpArgR=2,OpArgK=3}function j:getOpMode(a)return self.opmodes[self.OpC[a]]%4 end;function j:getBMode(a)return math.floor(self.opmodes[self.OpC[a]]/16)%4 end;function j:getCMode(a)return math.floor(self.opmodes[self.OpC[a]]/4)%4 end;function j:testAMode(a)return math.floor(self.opmodes[self.OpC[a]]/64)%2 end;function j:to(a)return math.floor(self.opmodes[self.OpC[a]]/128)end;j.LFFS_PER_FLUSH=50;local function a(a,b,c,d,e)local f=j;return a*128+b*64+f.OpArgMask[c]*16+f.OpArgMask[d]*4+f.OpMode[e]end;j.opmodes={a(0,1,"OpArgK","OpArgN","iABx"),a(0,1,"OpArgU","OpArgU","iABC"),a(0,1,"OpArgR","OpArgN","iABC"),a(0,1,"OpArgU","OpArgN","iABC"),a(0,1,"OpArgK","OpArgN","iABx"),a(0,1,"OpArgR","OpArgK","iABC"),a(0,0,"OpArgK","OpArgN","iABx"),a(0,0,"OpArgU","OpArgN","iABC"),a(0,0,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgU","OpArgU","iABC"),a(0,1,"OpArgR","OpArgK","iABC"),a(0,1,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgK","OpArgK","iABC"),a(0,1,"OpArgR","OpArgN","iABC"),a(0,1,"OpArgR","OpArgN","iABC"),a(0,1,"OpArgR","OpArgN","iABC"),a(0,1,"OpArgR","OpArgR","iABC"),a(0,0,"OpArgR","OpArgN","iAsBx"),a(1,0,"OpArgK","OpArgK","iABC"),a(1,0,"OpArgK","OpArgK","iABC"),a(1,0,"OpArgK","OpArgK","iABC"),a(1,1,"OpArgR","OpArgU","iABC"),a(1,1,"OpArgR","OpArgU","iABC"),a(0,1,"OpArgU","OpArgU","iABC"),a(0,1,"OpArgU","OpArgU","iABC"),a(0,0,"OpArgU","OpArgN","iABC"),a(0,1,"OpArgR","OpArgN","iAsBx"),a(0,1,"OpArgR","OpArgN","iAsBx"),a(1,0,"OpArgN","OpArgU","iABC"),a(0,0,"OpArgU","OpArgU","iABC"),a(0,0,"OpArgN","OpArgN","iABC"),a(0,1,"OpArgU","OpArgN","iABx"),a(0,1,"OpArgU","OpArgN","iABC")}j.opmodes[0]=a(0,1,"OpArgR","OpArgN","iABC")k.LUA_SIGNATURE="\27Lua"k.LUA_TNUMBER=3;k.LUA_TSTRING=4;k.LUA_TNIL=0;k.LUA_TBOOLEAN=1;k.LUA_TNONE=-1k.LUAC_VERSION=81;k.LUAC_FORMAT=0;k.LUAC_HEADERSIZE=12;function k:make_setS()local a={}a.d=""local b=function(a,b)if not a then return 0 end;b.d=b.d..a;return 0 end;return b,a end;function k:make_setF(a)local b={}b.h=io.open(a,"wb")if not b.h then return nil end;local a=function(a,b)if not b.h then return 0 end;if not a then if b.h:close()then return 0 end else if b.h:write(a)then return 0 end end;return 1 end;return a,b end;function k:ttype(a)local a=type(a.value)if a=="number"then return self.LUA_TNUMBER elseif a=="string"then return self.LUA_TSTRING elseif a=="nil"then return self.LUA_TNIL elseif a=="boolean"then return self.LUA_TBOOLEAN else return self.LUA_TNONE end end;function k:from_double(a)local function b(a)local b=a%256;return(a-b)/256,string.char(b)end;local c=0;if a<0 then c=1;a=-a end;local d,e=math.frexp(a)if a==0 then d,e=0,0 elseif a==1/0 then d,e=0,2047 else d=(d*2-1)*math.ldexp(0.5,53)e=e+1022 end;local f,g=""a=math.floor(d)for c=1,6 do a,g=b(a)f=f..g end;a,g=b(e*16+a)f=f..g;a,g=b(c*128+a)f=f..g;return f end;function k:from_int(a)local b=""a=math.floor(a)if a<0 then a=4294967296+a end;for c=1,4 do local c=a%256;b=b..string.char(c)a=math.floor(a/256)end;return b end;function k:Dumpbg(a,b)if b.status==0 then b.status=b.write(a,b.d)end end;function k:DumpChar(a,b)self:Dumpbg(string.char(a),b)end;function k:DumpInt(a,b)self:Dumpbg(self:from_int(a),b)end;function k:DumpSizeT(a,b)self:Dumpbg(self:from_int(a),b)if m==8 then self:Dumpbg(self:from_int(0),b)end end;function k:DumpNumber(a,b)self:Dumpbg(self:from_double(a),b)end;function k:DumpString(a,b)if a==nil then self:DumpSizeT(0,b)else a=a.."\0"self:DumpSizeT(#a,b)self:Dumpbg(a,b)end end;function k:DumpC(a,b)local c=a.sizeC;self:DumpInt(c,b)for c=0,c-1 do self:Dumpbg(j:Instruction(a.C[c]),b)end end;function k:DumpConstants(a,b)local c=a.sizek;self:DumpInt(c,b)for c=0,c-1 do local a=a.k[c]local c=self:ttype(a)self:DumpChar(c,b)if c==self.LUA_TNIL then elseif c==self.LUA_TBOOLEAN then self:DumpChar(a.value and 1 or 0,b)elseif c==self.LUA_TNUMBER then self:DumpNumber(a.value,b)elseif c==self.LUA_TSTRING then self:DumpString(a.value,b)else end end;c=a.sizep;self:DumpInt(c,b)for c=0,c-1 do self:DumpFunction(a.p[c],a.source,b)end end;function k:DumpDebug(a,b)local c;c=b.strip and 0 or a.sizelineinfo;self:DumpInt(c,b)for c=0,c-1 do self:DumpInt(a.lineinfo[c],b)end;c=b.strip and 0 or a.sizelocvars;self:DumpInt(c,b)for c=0,c-1 do self:DumpString(a.locvars[c].varn,b)self:DumpInt(a.locvars[c].vwwvv,b)self:DumpInt(a.locvars[c].endpc,b)end;c=b.strip and 0 or a.sizeUaues;self:DumpInt(c,b)for c=0,c-1 do self:DumpString(a.Uaues[c],b)end end;function k:DumpFunction(a,b,c)local d=a.source;if d==b or c.strip then d=nil end;self:DumpString(d,c)self:DumpInt(a.lineDefined,c)self:DumpInt(a.lastlinedefined,c)self:DumpChar(a.nups,c)self:DumpChar(a.numparams,c)self:DumpChar(a.is_vararg,c)self:DumpChar(a.Sz,c)self:DumpC(a,c)self:DumpConstants(a,c)self:DumpDebug(a,c)end;function k:DumpHeader(a)local b=self:header()assert(#b==self.LUAC_HEADERSIZE)self:Dumpbg(b,a)end;function k:header()local a=1;return self.LUA_SIGNATURE..string.char(self.LUAC_VERSION,self.LUAC_FORMAT,a,4,m,4,8,0)end;function k:dump(a,b,c,d,e)local f={}f.L=a;f.write=c;f.d=d;f.strip=e;f.status=0;self:DumpHeader(f)self:DumpFunction(b,nil,f)f.write(nil,f.d)return f.status end;l.Sm=250;function l:ttisnumber(a)if a then return type(a.value)=="number"else return false end end;function l:nvalue(a)return a.value end;function l:setnilvalue(a)a.value=nil end;function l:setsvalue(a,b)a.value=b end;l.setnvalue=l.setsvalue;l.sethvalue=l.setsvalue;l.setbvalue=l.setsvalue;function l:numadd(a,b)return a+b end;function l:numsub(a,b)return a-b end;function l:nummul(a,b)return a*b end;function l:numdiv(a,b)return a/b end;function l:nummod(a,b)return a%b end;function l:numpow(a,b)return a^b end;function l:numunm(a)return-a end;function l:numisnan(a)return not a==a end;l.bt=-1l.BinOpr={OPR_ADD=0,OPR_SUB=1,OPR_MUL=2,OPR_DIV=3,OPR_MOD=4,OPR_POW=5,OPR_wwww=6,OPR_NE=7,OPR_EQ=8,OPR_LT=9,OPR_LE=10,OPR_GT=11,OPR_GE=12,OPR_AND=13,OPR_OR=14,OPR_NOBINOPR=15}l.UnOpr={OPR_MINUS=0,OPR_NOT=1,OPR_LEN=2,OPR_NOUNOPR=3}function l:gC(a,b)return a.f.C[b.info]end;function l:Cg(a,b,c,d)return self:vvwwv(a,b,c,d+j.MAXARG_sBx)end;function l:mS(a,b)self:setreturns(a,b,h.lM)end;function l:hasjps(a)return a.t~=a.f end;function l:isnumeral(a)return a.k=="VKNUM"and a.t==self.bt and a.f==self.bt end;function l:_nil(a,b,c)if a.pc>a.lasttarget then if a.pc==0 then if b>=a.wv then return end else local a=a.f.C[a.pc-1]if j:go(a)=="OP_LOADNIL"then local d=j:Xc(a)local e=j:GETARG_B(a)if d<=b and b<=e+1 then if b+c-1>e then j:ST(a,b+c-1)end;return end end end end;self:Ax(a,"OP_LOADNIL",b,b+c-1,0)end;function l:jp(a)local b=a.jpc;a.jpc=self.bt;local c=self:Cg(a,"OP_JMP",0,self.bt)c=self:wwww(a,c,b)return c end;function l:Vc(a,b,c)self:Ax(a,"OP_RETURN",b,c+1,0)end;function l:bx(a,b,c,d,e)self:Ax(a,b,c,d,e)return self:jp(a)end;function l:v(a,b,c)local d=a.f.C[b]local b=c-(b+1)n(c~=self.bt)if math.abs(b)>j.MAXARG_sBx then i:sR(a.ls,"control structure too long")end;j:jk(d,b)end;function l:Lr(a)a.lasttarget=a.pc;return a.pc end;function l:yk(a,b)local a=j:gv(a.f.C[b])if a==self.bt then return self.bt else return b+1+a end end;function l:cc(a,b)local c=a.f.C[b]local a=a.f.C[b-1]if b>=1 and j:to(j:go(a))~=0 then return a else return c end end;function l:Nc(a,b)while b~=self.bt do local c=self:cc(a,b)if j:go(c)~="OP_TESTSET"then return true end;b=self:yk(a,b)end;return false end;function l:PsT(a,b,c)local a=self:cc(a,b)if j:go(a)~="OP_TESTSET"then return false end;if c~=j.NO_REG and c~=j:GETARG_B(a)then j:Sa(a,c)else j:Bd(a,"OP_TEST")local b=j:GETARG_B(a)j:Sa(a,b)j:ST(a,0)end;return true end;function l:RV(a,b)while b~=self.bt do self:PsT(a,b,j.NO_REG)b=self:yk(a,b)end end;function l:vG(a,b,c,d,e)while b~=self.bt do local f=self:yk(a,b)if self:PsT(a,b,d)then self:v(a,b,c)else self:v(a,b,e)end;b=f end end;function l:h(a)self:vG(a,a.jpc,a.pc,j.NO_REG,a.pc)a.jpc=self.bt end;function l:gv(a,b,c)if c==a.pc then self:g4(a,b)else n(c<a.pc)self:vG(a,b,c,j.NO_REG,c)end end;function l:g4(a,b)self:Lr(a)a.jpc=self:wwww(a,a.jpc,b)end;function l:wwww(a,b,c)if c==self.bt then return b elseif b==self.bt then return c else local b=b;local d=self:yk(a,b)while d~=self.bt do b=d;d=self:yk(a,b)end;self:v(a,b,c)end;return b end;function l:vwwwvww(a,b)local b=a.wvvww+b;if b>a.f.Sz then if b>=self.Sm then i:sR(a.ls,"function or expression too complex")end;a.f.Sz=b end end;function l:uy(a,b)self:vwwwvww(a,b)a.wvvww=a.wvvww+b end;function l:wvvww(a,b)if not j:ISK(b)and b>=a.wv then a.wvvww=a.wvvww-1;n(b==a.wvvww)end end;function l:freeexp(a,b)if b.k=="VNONRELOC"then self:wvvww(a,b.info)end end;function l:addk(a,b,c)local d=a.L;local e=a.h[b.value]local f=a.f;if self:ttisnumber(e)then return self:nvalue(e)else e={}self:setnvalue(e,a.nk)a.h[b.value]=e;h:growvector(d,f.k,a.nk,f.sizek,nil,j.MAXARG_Bx,"constant table overflow")f.k[a.nk]=c;local b=a.nk;a.nk=a.nk+1;return b end end;function l:stringK(a,b)local c={}self:setsvalue(c,b)return self:addk(a,c,c)end;function l:vwvv(a,b)local c={}self:setnvalue(c,b)return self:addk(a,c,c)end;function l:boolK(a,b)local c={}self:setbvalue(c,b)return self:addk(a,c,c)end;function l:nilK(a)local b,c={},{}self:setnilvalue(c)self:sethvalue(b,a.h)return self:addk(a,b,c)end;function l:setreturns(a,b,c)if b.k=="VCALL"then j:Sc(self:gC(a,b),c+1)elseif b.k=="VVARARG"then j:ST(self:gC(a,b),c+1)j:Sa(self:gC(a,b),a.wvvww)l:uy(a,1)end end;function l:setoneret(a,b)if b.k=="VCALL"then b.k="VNONRELOC"b.info=j:Xc(self:gC(a,b))elseif b.k=="VVARARG"then j:ST(self:gC(a,b),2)b.k="VRELOCABLE"end end;function l:dischargevars(a,b)local c=b.k;if c=="VLOCAL"then b.k="VNONRELOC"elseif c=="VUa"then b.info=self:Ax(a,"OP_GETUa",0,b.info,0)b.k="VRELOCABLE"elseif c=="VGLOBAL"then b.info=self:vvwwv(a,"OP_GETGLOBAL",0,b.info)b.k="VRELOCABLE"elseif c=="VINDEXED"then self:wvvww(a,b.aux)self:wvvww(a,b.info)b.info=self:Ax(a,"OP_GETTABLE",0,b.info,b.aux)b.k="VRELOCABLE"elseif c=="VVARARG"or c=="VCALL"then self:setoneret(a,b)else end end;function l:C_label(a,b,c,d)self:Lr(a)return self:Ax(a,"OP_LOADBOOL",b,c,d)end;function l:discharge2reg(a,b,c)self:dischargevars(a,b)local d=b.k;if d=="VNIL"then self:_nil(a,c,1)elseif d=="VFALSE"or d=="VTRUE"then self:Ax(a,"OP_LOADBOOL",c,b.k=="VTRUE"and 1 or 0,0)elseif d=="VK"then self:vvwwv(a,"OP_LOADK",c,b.info)elseif d=="VKNUM"then self:vvwwv(a,"OP_LOADK",c,self:vwvv(a,b.nval))elseif d=="VRELOCABLE"then local a=self:gC(a,b)j:Sa(a,c)elseif d=="VNONRELOC"then if c~=b.info then self:Ax(a,"OP_MOVE",c,b.info,0)end else n(b.k=="VVOID"or b.k=="VJMP")return end;b.info=c;b.k="VNONRELOC"end;function l:discharge2anyreg(a,b)if b.k~="VNONRELOC"then self:uy(a,1)self:discharge2reg(a,b,a.wvvww-1)end end;function l:exp2reg(a,b,c)self:discharge2reg(a,b,c)if b.k=="VJMP"then b.t=self:wwww(a,b.t,b.info)end;if self:hasjps(b)then local d;local e=self.bt;local f=self.bt;if self:Nc(a,b.t)or self:Nc(a,b.f)then local b=b.k=="VJMP"and self.bt or self:jp(a)e=self:C_label(a,c,0,1)f=self:C_label(a,c,1,0)self:g4(a,b)end;d=self:Lr(a)self:vG(a,b.f,d,c,e)self:vG(a,b.t,d,c,f)end;b.f,b.t=self.bt,self.bt;b.info=c;b.k="VNONRELOC"end;function l:Dr(a,b)self:dischargevars(a,b)self:freeexp(a,b)self:uy(a,1)self:exp2reg(a,b,a.wvvww-1)end;function l:e2X(a,b)self:dischargevars(a,b)if b.k=="VNONRELOC"then if not self:hasjps(b)then return b.info end;if b.info>=a.wv then self:exp2reg(a,b,b.info)return b.info end end;self:Dr(a,b)return b.info end;function l:exp2val(a,b)if self:hasjps(b)then self:e2X(a,b)else self:dischargevars(a,b)end end;function l:exp2RK(a,b)self:exp2val(a,b)local c=b.k;if c=="VKNUM"or c=="VTRUE"or c=="VFALSE"or c=="VNIL"then if a.nk<=j.MAXINDEXRK then if b.k=="VNIL"then b.info=self:nilK(a)else b.info=b.k=="VKNUM"and self:vwvv(a,b.nval)or self:boolK(a,b.k=="VTRUE")end;b.k="VK"return j:RKASK(b.info)end elseif c=="VK"then if b.info<=j.MAXINDEXRK then return j:RKASK(b.info)end else end;return self:e2X(a,b)end;function l:storevar(a,b,c)local d=b.k;if d=="VLOCAL"then self:freeexp(a,c)self:exp2reg(a,c,b.info)return elseif d=="VUa"then local c=self:e2X(a,c)self:Ax(a,"OP_SETUa",c,b.info,0)elseif d=="VGLOBAL"then local c=self:e2X(a,c)self:vvwwv(a,"OP_SETGLOBAL",c,b.info)elseif d=="VINDEXED"then local c=self:exp2RK(a,c)self:Ax(a,"OP_SETTABLE",b.info,b.aux,c)else n(0)end;self:freeexp(a,c)end;function l:_self(a,b,c)self:e2X(a,b)self:freeexp(a,b)local d=a.wvvww;self:uy(a,2)self:Ax(a,"OP_SELF",d,b.info,self:exp2RK(a,c))self:freeexp(a,c)b.info=d;b.k="VNONRELOC"end;function l:invertjp(a,b)local a=self:cc(a,b.info)n(j:to(j:go(a))~=0 and j:go(a)~="OP_TESTSET"and j:go(a)~="OP_TEST")j:Sa(a,j:Xc(a)==0 and 1 or 0)end;function l:jponbs(a,b,c)if b.k=="VRELOCABLE"then local b=self:gC(a,b)if j:go(b)=="OP_NOT"then a.pc=a.pc-1;return self:bx(a,"OP_TEST",j:GETARG_B(b),0,c and 0 or 1)end end;self:discharge2anyreg(a,b)self:freeexp(a,b)return self:bx(a,"OP_TESTSET",j.NO_REG,b.info,c and 1 or 0)end;function l:goiftrue(a,b)local c;self:dischargevars(a,b)local d=b.k;if d=="VK"or d=="VKNUM"or d=="VTRUE"then c=self.bt elseif d=="VFALSE"then c=self:jp(a)elseif d=="VJMP"then self:invertjp(a,b)c=b.info else c=self:jponbs(a,b,false)end;b.f=self:wwww(a,b.f,c)self:g4(a,b.t)b.t=self.bt end;function l:goiffalse(a,b)local c;self:dischargevars(a,b)local d=b.k;if d=="VNIL"or d=="VFALSE"then c=self.bt elseif d=="VTRUE"then c=self:jp(a)elseif d=="VJMP"then c=b.info else c=self:jponbs(a,b,true)end;b.t=self:wwww(a,b.t,c)self:g4(a,b.f)b.f=self.bt end;function l:Cnot(a,b)self:dischargevars(a,b)local c=b.k;if c=="VNIL"or c=="VFALSE"then b.k="VTRUE"elseif c=="VK"or c=="VKNUM"or c=="VTRUE"then b.k="VFALSE"elseif c=="VJMP"then self:invertjp(a,b)elseif c=="VRELOCABLE"or c=="VNONRELOC"then self:discharge2anyreg(a,b)self:freeexp(a,b)b.info=self:Ax(a,"OP_NOT",0,b.info,0)b.k="VRELOCABLE"else n(0)end;b.f,b.t=b.t,b.f;self:RV(a,b.f)self:RV(a,b.t)end;function l:indexed(a,b,c)b.aux=self:exp2RK(a,c)b.k="VINDEXED"end;function l:constfolding(a,b,c)local d;if not self:isnumeral(b)or not self:isnumeral(c)then return false end;local e=b.nval;local c=c.nval;if a=="OP_ADD"then d=self:numadd(e,c)elseif a=="OP_SUB"then d=self:numsub(e,c)elseif a=="OP_MUL"then d=self:nummul(e,c)elseif a=="OP_DIV"then if c==0 then return false end;d=self:numdiv(e,c)elseif a=="OP_MOD"then if c==0 then return false end;d=self:nummod(e,c)elseif a=="OP_POW"then d=self:numpow(e,c)elseif a=="OP_UNM"then d=self:numunm(e)elseif a=="OP_LEN"then return false else n(0)d=0 end;if self:numisnan(d)then return false end;b.nval=d;return true end;function l:Carith(a,b,c,d)if self:constfolding(b,c,d)then return else local e=b~="OP_UNM"and b~="OP_LEN"and self:exp2RK(a,d)or 0;local f=self:exp2RK(a,c)if f>e then self:freeexp(a,c)self:freeexp(a,d)else self:freeexp(a,d)self:freeexp(a,c)end;c.info=self:Ax(a,b,0,f,e)c.k="VRELOCABLE"end end;function l:Ccomp(a,b,c,d,e)local f=self:exp2RK(a,d)local g=self:exp2RK(a,e)self:freeexp(a,e)self:freeexp(a,d)if c==0 and b~="OP_EQ"then f,g=g,f;c=1 end;d.info=self:bx(a,b,c,f,g)d.k="VJMP"end;function l:prefix(a,b,c)local d={}d.t,d.f=self.bt,self.bt;d.k="VKNUM"d.nval=0;if b=="OPR_MINUS"then if not self:isnumeral(c)then self:e2X(a,c)end;self:Carith(a,"OP_UNM",c,d)elseif b=="OPR_NOT"then self:Cnot(a,c)elseif b=="OPR_LEN"then self:e2X(a,c)self:Carith(a,"OP_LEN",c,d)else n(0)end end;function l:infix(a,b,c)if b=="OPR_AND"then self:goiftrue(a,c)elseif b=="OPR_OR"then self:goiffalse(a,c)elseif b=="OPR_wwww"then self:Dr(a,c)elseif b=="OPR_ADD"or b=="OPR_SUB"or b=="OPR_MUL"or b=="OPR_DIV"or b=="OPR_MOD"or b=="OPR_POW"then if not self:isnumeral(c)then self:exp2RK(a,c)end else self:exp2RK(a,c)end end;l.arith_op={OPR_ADD="OP_ADD",OPR_SUB="OP_SUB",OPR_MUL="OP_MUL",OPR_DIV="OP_DIV",OPR_MOD="OP_MOD",OPR_POW="OP_POW"}l.comp_op={OPR_EQ="OP_EQ",OPR_NE="OP_EQ",OPR_LT="OP_LT",OPR_LE="OP_LE",OPR_GT="OP_LT",OPR_GE="OP_LE"}l.comp_bs={OPR_EQ=1,OPR_NE=0,OPR_LT=1,OPR_LE=1,OPR_GT=0,OPR_GE=0}function l:posfix(a,b,c,d)local function e(a,b)a.k=b.k;a.info=b.info;a.aux=b.aux;a.nval=b.nval;a.t=b.t;a.f=b.f end;if b=="OPR_AND"then n(c.t==self.bt)self:dischargevars(a,d)d.f=self:wwww(a,d.f,c.f)e(c,d)elseif b=="OPR_OR"then n(c.f==self.bt)self:dischargevars(a,d)d.t=self:wwww(a,d.t,c.t)e(c,d)elseif b=="OPR_wwww"then self:exp2val(a,d)if d.k=="VRELOCABLE"and j:go(self:gC(a,d))=="OP_wwww"then n(c.info==j:GETARG_B(self:gC(a,d))-1)self:freeexp(a,c)j:ST(self:gC(a,d),c.info)c.k="VRELOCABLE"c.info=d.info else self:Dr(a,d)self:Carith(a,"OP_wwww",c,d)end else local e=self.arith_op[b]if e then self:Carith(a,e,c,d)else local e=self.comp_op[b]if e then self:Ccomp(a,e,self.comp_bs[b],c,d)else n(0)end end end end;function l:vg(a,b)a.f.lineinfo[a.pc-1]=b end;function l:C(a,b,c)local d=a.f;self:h(a)h:growvector(a.L,d.C,a.pc,d.sizeC,nil,h.mi,"C size overflow")d.C[a.pc]=b;h:growvector(a.L,d.lineinfo,a.pc,d.sizelineinfo,nil,h.mi,"C size overflow")d.lineinfo[a.pc]=c;local b=a.pc;a.pc=a.pc+1;return b end;function l:Ax(a,b,c,d,e)n(j:getOpMode(b)==j.OpMode.iABC)n(j:getBMode(b)~=j.OpArgMask.OpArgN or d==0)n(j:getCMode(b)~=j.OpArgMask.OpArgN or e==0)return self:C(a,j:CREATE_ABC(b,c,d,e),a.ls.lastline)end;function l:vvwwv(a,b,c,d)n(j:getOpMode(b)==j.OpMode.iABx or j:getOpMode(b)==j.OpMode.iAsBx)n(j:getCMode(b)==j.OpArgMask.OpArgN)return self:C(a,j:CREATE_ABx(b,c,d),a.ls.lastline)end;function l:setlist(a,b,c,d)local c=math.floor((c-1)/j.LFFS_PER_FLUSH)+1;local e=d==h.lM and 0 or d;n(d~=0)if c<=j.MAXARG_C then self:Ax(a,"OP_SETLIST",b,e,c)else self:Ax(a,"OP_SETLIST",b,e,0)self:C(a,j:CREATE_Inst(c),a.ls.lastline)end;a.wvvww=b+1 end;h.lq=i.lq or"'%s'"h.SHRT_MAX=32767;h.LUAI_MAXVARS=200;h.LUAI_MAXUaUES=60;h.mi=i.mi or 2147483645;h.LUAI_MAXCCALLS=200;h.VARARG_HASARG=1;h.HASARG_MASK=2;h.VARARG_ISVARARG=2;h.VARARG_NEEDSARG=4;h.lM=-1function h:Ev(a)return"'"..a.."'"end;function h:growvector(a,a,a,b,b,b,c)if a>=b then error(c)end end;function h:newproto(a)local a={}a.k={}a.sizek=0;a.p={}a.sizep=0;a.C={}a.sizeC=0;a.sizelineinfo=0;a.sizeUaues=0;a.nups=0;a.Uaues={}a.numparams=0;a.is_vararg=0;a.Sz=0;a.lineinfo={}a.sizelocvars=0;a.locvars={}a.lineDefined=0;a.lastlinedefined=0;a.source=nil;return a end;function h:int2fb(a)local b=0;while a>=16 do a=math.floor((a+1)/2)b=b+1 end;if a<8 then return a else return(b+1)*8+a-8 end end;function h:Vf(a)return a=="VCALL"or a=="VVARARG"end;function h:getlocvar(a,b)return a.f.locvars[a.actvar[b]]end;function h:checklimit(a,b,c,d)if b>c then self:errorlimit(a,c,d)end end;function h:anchor_vwvvvv(a)if a.t.vwvvvv=="TK_NAME"or a.t.vwvvvv=="TK_STRING"then end end;function h:error_expected(a,b)i:sR(a,f(self.lq.." expected",i:vwvvvv2str(a,b)))end;function h:errorlimit(a,b,c)local b=a.f.linedefined==0 and f("main function has more than %d %s",b,c)or f("function at line %d has more than %d %s",a.f.linedefined,b,c)i:lexerror(a.ls,b,0)end;function h:vwvww(a,b)if a.t.vwvvvv==b then i:next(a)return true else return false end end;function h:check(a,b)if a.t.vwvvvv~=b then self:error_expected(a,b)end end;function h:Mn(a,b)self:check(a,b)i:next(a)end;function h:check_bsition(a,b,c)if not b then i:sR(a,c)end end;function h:Vc(a,b,c,d)if not self:vwvww(a,b)then if d==a.vvvvv then self:error_expected(a,b)else i:sR(a,f(self.lq.." expected (to close "..self.lq.." at line %d)",i:vwvvvv2str(a,b),i:vwvvvv2str(a,c),d))end end end;function h:vvvvvvv(a)self:check(a,"TK_NAME")local b=a.t.seminfo;i:next(a)return b end;function h:IX(a,b,c)a.f,a.t=l.bt,l.bt;a.k=b;a.info=c end;function h:sSC(a,b,c)self:IX(b,"VK",l:stringK(a.fs,c))end;function h:checkn(a,b)self:sSC(a,b,self:vvvvvvv(a))end;function h:registerlocalvar(a,b)local c=a.fs;local d=c.f;self:growvector(a.L,d.locvars,c.nlocvars,d.sizelocvars,nil,self.SHRT_MAX,"too many local variables")d.locvars[c.nlocvars]={}d.locvars[c.nlocvars].varn=b;local a=c.nlocvars;c.nlocvars=c.nlocvars+1;return a end;function h:gd(a,b,c)self:vvwv(a,b,c)end;function h:vvwv(a,b,c)local d=a.fs;self:checklimit(d,d.wv+c+1,self.LUAI_MAXVARS,"local variables")d.actvar[d.wv+c]=self:registerlocalvar(a,b)end;function h:g5(a,b)local a=a.fs;a.wv=a.wv+b;for b=b,1,-1do self:getlocvar(a,a.wv-b).vwwvv=a.pc end end;function h:removevars(a,b)local a=a.fs;while a.wv>b do a.wv=a.wv-1;self:getlocvar(a,a.wv).endpc=a.pc end end;function h:indexUaue(a,b,c)local d=a.f;for e=0,d.nups-1 do if a.Uaues[e].k==c.k and a.Uaues[e].info==c.info then n(d.Uaues[e]==b)return e end end;self:checklimit(a,d.nups+1,self.LUAI_MAXUaUES,"Uaues")self:growvector(a.L,d.Uaues,d.nups,d.sizeUaues,nil,self.mi,"")d.Uaues[d.nups]=b;n(c.k=="VLOCAL"or c.k=="VUa")a.Uaues[d.nups]={k=c.k,info=c.info}local a=d.nups;d.nups=d.nups+1;return a end;function h:searchvar(a,b)for c=a.wv-1,0,-1do if b==self:getlocvar(a,c).varn then return c end end;return-1end;function h:markUa(a,b)local a=a.bl;while a and a.wv>b do a=a.previous end;if a then a.Ua=true end end;function h:vSaux(a,b,c,d)if a==nil then self:IX(c,"VGLOBAL",j.NO_REG)return"VGLOBAL"else local e=self:searchvar(a,b)if e>=0 then self:IX(c,"VLOCAL",e)if d==0 then self:markUa(a,e)end;return"VLOCAL"else if self:vSaux(a.prev,b,c,0)=="VGLOBAL"then return"VGLOBAL"end;c.info=self:indexUaue(a,b,c)c.k="VUa"return"VUa"end end end;function h:vS(a,b)local c=self:vvvvvvv(a)local a=a.fs;if self:vSaux(a,c,b,1)=="VGLOBAL"then b.info=l:stringK(a,c)end end;function h:wvwwvv(a,b,c,d)local a=a.fs;local b=b-c;if self:Vf(d.k)then b=b+1;if b<=0 then b=0 end;l:setreturns(a,d,b)if b>1 then l:uy(a,b-1)end else if d.k~="VVOID"then l:Dr(a,d)end;if b>0 then local c=a.wvvww;l:uy(a,b)l:_nil(a,c,b)end end end;function h:enterlevel(a)a.L.nCcalls=a.L.nCcalls+1;if a.L.nCcalls>self.LUAI_MAXCCALLS then i:lexerror(a,"Xz has too many syntax levels",0)end end;function h:leavelevel(a)a.L.nCcalls=a.L.nCcalls-1 end;function h:vy(a,b,c)b.breaklist=l.bt;b.isbreakable=c;b.wv=a.wv;b.Ua=false;b.previous=a.bl;a.bl=b;n(a.wvvww==a.wv)end;function h:bl(a)local b=a.bl;a.bl=b.previous;self:removevars(a.ls,b.wv)if b.Ua then l:Ax(a,"OP_CLOSE",b.wv,0,0)end;n(not b.isbreakable or not b.Ua)n(b.wv==a.wv)a.wvvww=a.wv;l:g4(a,b.breaklist)end;function h:pushclosure(a,b,c)local d=a.fs;local e=d.f;self:growvector(a.L,e.p,d.np,e.sizep,nil,j.MAXARG_Bx,"constant table overflow")e.p[d.np]=b.f;d.np=d.np+1;self:IX(c,"VRELOCABLE",l:vvwwv(d,"OP_CLOSURE",0,d.np-1))for a=0,b.f.nups-1 do local c=b.Uaues[a].k=="VLOCAL"and"OP_MOVE"or"OP_GETUa"l:Ax(d,c,0,b.Uaues[a].info,0)end end;function h:open_func(a,b)local c=a.L;local d=self:newproto(a.L)b.f=d;b.prev=a.fs;b.ls=a;b.L=c;a.fs=b;b.pc=0;b.lasttarget=-1b.jpc=l.bt;b.wvvww=0;b.nk=0;b.np=0;b.nlocvars=0;b.wv=0;b.bl=nil;d.source=a.source;d.Sz=2;b.h={}end;function h:close_func(a)local b=a.L;local b=a.fs;local c=b.f;self:removevars(a,0)l:Vc(b,0,0)c.sizeC=b.pc;c.sizelineinfo=b.pc;c.sizek=b.nk;c.sizep=b.np;c.sizelocvars=b.nlocvars;c.sizeUaues=c.nups;n(b.bl==nil)a.fs=b.prev;if b then self:anchor_vwvvvv(a)end end;function h:parser(a,b,c,d)local e={}e.t={}e.LA={}local f={}f.Uaues={}f.actvar={}a.nCcalls=0;e.buff=c;i:setinput(a,e,b,d)self:open_func(e,f)f.f.is_vararg=self.VARARG_ISVARARG;i:next(e)self:Xz(e)self:check(e,"TK_EOS")self:close_func(e)n(f.prev==nil)n(f.f.nups==0)n(e.fs==nil)return f.f end;function h:FF(a,b)local c=a.fs;local d={}l:e2X(c,b)i:next(a)self:checkn(a,d)l:indexed(c,b,d)end;function h:yindex(a,b)i:next(a)self:expr(a,b)l:exp2val(a.fs,b)self:Mn(a,"]")end;function h:recFF(a,b)local c=a.fs;local d=a.fs.wvvww;local e,f={},{}if a.t.vwvvvv=="TK_NAME"then self:checklimit(c,b.nh,self.mi,"items in a constructor")self:checkn(a,e)else self:yindex(a,e)end;b.nh=b.nh+1;self:Mn(a,"=")local e=l:exp2RK(c,e)self:expr(a,f)l:Ax(c,"OP_SETTABLE",b.t.info,e,l:exp2RK(c,f))c.wvvww=d end;function h:closelistFF(a,b)if b.v.k=="VVOID"then return end;l:Dr(a,b.v)b.v.k="VVOID"if b.tostore==j.LFFS_PER_FLUSH then l:setlist(a,b.t.info,b.na,b.tostore)b.tostore=0 end end;function h:lastlistFF(a,b)if b.tostore==0 then return end;if self:Vf(b.v.k)then l:mS(a,b.v)l:setlist(a,b.t.info,b.na,self.lM)b.na=b.na-1 else if b.v.k~="VVOID"then l:Dr(a,b.v)end;l:setlist(a,b.t.info,b.na,b.tostore)end end;function h:listFF(a,b)self:expr(a,b.v)self:checklimit(a.fs,b.na,self.mi,"items in a constructor")b.na=b.na+1;b.tostore=b.tostore+1 end;function h:constructor(a,b)local c=a.fs;local d=a.vvvvv;local e=l:Ax(c,"OP_NEWTABLE",0,0,0)local f={}f.v={}f.na,f.nh,f.tostore=0,0,0;f.t=b;self:IX(b,"VRELOCABLE",e)self:IX(f.v,"VVOID",0)l:Dr(a.fs,b)self:Mn(a,"{")repeat n(f.v.k=="VVOID"or f.tostore>0)if a.t.vwvvvv=="}"then break end;self:closelistFF(c,f)local b=a.t.vwvvvv;if b=="TK_NAME"then i:LA(a)if a.LA.vwvvvv~="="then self:listFF(a,f)else self:recFF(a,f)end elseif b=="["then self:recFF(a,f)else self:listFF(a,f)end until not self:vwvww(a,",")and not self:vwvww(a,";")self:Vc(a,"}","{",d)self:lastlistFF(c,f)j:ST(c.f.C[e],self:int2fb(f.na))j:Sc(c.f.C[e],self:int2fb(f.nh))end;function h:parlist(a)local b=a.fs;local c=b.f;local d=0;c.is_vararg=0;if a.t.vwvvvv~=")"then repeat local b=a.t.vwvvvv;if b=="TK_NAME"then self:vvwv(a,self:vvvvvvv(a),d)d=d+1 elseif b=="TK_DOTS"then i:next(a)self:gd(a,"arg",d)d=d+1;c.is_vararg=self.VARARG_HASARG+self.VARARG_NEEDSARG;c.is_vararg=c.is_vararg+self.VARARG_ISVARARG else i:sR(a,"<n> or "..self:Ev("...").." expected")end until c.is_vararg~=0 or not self:vwvww(a,",")end;self:g5(a,d)c.numparams=b.wv-c.is_vararg%self.HASARG_MASK;l:uy(b,b.wv)end;function h:body(a,b,c,d)local e={}e.Uaues={}e.actvar={}self:open_func(a,e)e.f.lineDefined=d;self:Mn(a,"(")if c then self:gd(a,"self",0)self:g5(a,1)end;self:parlist(a)self:Mn(a,")")self:Xz(a)e.f.lastlinedefined=a.vvvvv;self:Vc(a,"TK_END","TK_FUNCTION",d)self:close_func(a)self:pushclosure(a,e,b)end;function h:vwvvv(a,b)local c=1;self:expr(a,b)while self:vwvww(a,",")do l:Dr(a.fs,b)self:expr(a,b)c=c+1 end;return c end;function h:funcargs(a,b)local c=a.fs;local d={}local e;local f=a.vvvvv;local g=a.t.vwvvvv;if g=="("then if f~=a.lastline then i:sR(a,"ambiguous syntax (function call x new statement)")end;i:next(a)if a.t.vwvvvv==")"then d.k="VVOID"else self:vwvvv(a,d)l:mS(c,d)end;self:Vc(a,")","(",f)elseif g=="{"then self:constructor(a,d)elseif g=="TK_STRING"then self:sSC(a,d,a.t.seminfo)i:next(a)else i:sR(a,"function arguments expected")return end;n(b.k=="VNONRELOC")local a=b.info;if self:Vf(d.k)then e=self.lM else if d.k~="VVOID"then l:Dr(c,d)end;e=c.wvvww-(a+1)end;self:IX(b,"VCALL",l:Ax(c,"OP_CALL",a,e+1,2))l:vg(c,f)c.wvvww=a+1 end;function h:prefixexp(a,b)local c=a.t.vwvvvv;if c=="("then local c=a.vvvvv;i:next(a)self:expr(a,b)self:Vc(a,")","(",c)l:dischargevars(a.fs,b)elseif c=="TK_NAME"then self:vS(a,b)else i:sR(a,"unexpected symbol")end;return end;function h:pE(a,b)local c=a.fs;self:prefixexp(a,b)while true do local d=a.t.vwvvvv;if d=="."then self:FF(a,b)elseif d=="["then local d={}l:e2X(c,b)self:yindex(a,d)l:indexed(c,b,d)elseif d==":"then local d={}i:next(a)self:checkn(a,d)l:_self(c,b,d)self:funcargs(a,b)elseif d=="("or d=="TK_STRING"or d=="{"then l:Dr(c,b)self:funcargs(a,b)else return end end end;function h:simpleexp(a,b)local c=a.t.vwvvvv;if c=="TK_NUMBER"then self:IX(b,"VKNUM",0)b.nval=a.t.seminfo elseif c=="TK_STRING"then self:sSC(a,b,a.t.seminfo)elseif c=="TK_NIL"then self:IX(b,"VNIL",0)elseif c=="TK_TRUE"then self:IX(b,"VTRUE",0)elseif c=="TK_FALSE"then self:IX(b,"VFALSE",0)elseif c=="TK_DOTS"then local c=a.fs;self:check_bsition(a,c.f.is_vararg~=0,"cannot use "..self:Ev("...").." outside a vararg function")local a=c.f.is_vararg;if a>=self.VARARG_NEEDSARG then c.f.is_vararg=a-self.VARARG_NEEDSARG end;self:IX(b,"VVARARG",l:Ax(c,"OP_VARARG",0,1,0))elseif c=="{"then self:constructor(a,b)return elseif c=="TK_FUNCTION"then i:next(a)self:body(a,b,false,a.vvvvv)return else self:pE(a,b)return end;i:next(a)end;function h:getunopr(a)if a=="TK_NOT"then return"OPR_NOT"elseif a=="-"then return"OPR_MINUS"elseif a=="#"then return"OPR_LEN"else return"OPR_NOUNOPR"end end;h.getbinopr_table={["+"]="OPR_ADD",["-"]="OPR_SUB",["*"]="OPR_MUL",["/"]="OPR_DIV",["%"]="OPR_MOD",["^"]="OPR_POW",["TK_wwww"]="OPR_wwww",["TK_NE"]="OPR_NE",["TK_EQ"]="OPR_EQ",["<"]="OPR_LT",["TK_LE"]="OPR_LE",[">"]="OPR_GT",["TK_GE"]="OPR_GE",["TK_AND"]="OPR_AND",["TK_OR"]="OPR_OR"}function h:getbinopr(a)local a=self.getbinopr_table[a]if a then return a else return"OPR_NOBINOPR"end end;h.priority={{6,6},{6,6},{7,7},{7,7},{7,7},{10,9},{5,4},{3,3},{3,3},{3,3},{3,3},{3,3},{3,3},{2,2},{1,1}}h.UNARY_PRIORITY=8;function h:subexpr(a,b,c)self:enterlevel(a)local d=self:getunopr(a.t.vwvvvv)if d~="OPR_NOUNOPR"then i:next(a)self:subexpr(a,b,self.UNARY_PRIORITY)l:prefix(a.fs,d,b)else self:simpleexp(a,b)end;local d=self:getbinopr(a.t.vwvvvv)while d~="OPR_NOBINOPR"and self.priority[l.BinOpr[d]+1][1]>c do local c={}i:next(a)l:infix(a.fs,d,b)local e=self:subexpr(a,c,self.priority[l.BinOpr[d]+1][2])l:posfix(a.fs,d,b,c)d=e end;self:leavelevel(a)return d end;function h:expr(a,b)self:subexpr(a,b,0)end;function h:Fg(a)if a=="TK_ELSE"or a=="TK_ELSEIF"or a=="TK_END"or a=="TK_UNTIL"or a=="TK_EOS"then return true else return false end end;function h:bg(a)local b=a.fs;local c={}self:vy(b,c,false)self:Xz(a)n(c.breaklist==l.bt)self:bl(b)end;function h:check_conflict(a,b,c)local a=a.fs;local d=a.wvvww;local e=false;while b do if b.v.k=="VINDEXED"then if b.v.info==c.info then e=true;b.v.info=d end;if b.v.aux==c.info then e=true;b.v.aux=d end end;b=b.prev end;if e then l:Ax(a,"OP_MOVE",a.wvvww,c.info,0)l:uy(a,1)end end;function h:A(a,b,c)local d={}local e=b.v.k;self:check_bsition(a,e=="VLOCAL"or e=="VUa"or e=="VGLOBAL"or e=="VINDEXED","syntax error")if self:vwvww(a,",")then local d={}d.v={}d.prev=b;self:pE(a,d.v)if d.v.k=="VLOCAL"then self:check_conflict(a,b,d.v)end;self:checklimit(a.fs,c,self.LUAI_MAXCCALLS-a.L.nCcalls,"variables in A")self:A(a,d,c+1)else self:Mn(a,"=")local e=self:vwvvv(a,d)if e~=c then self:wvwwvv(a,c,e,d)if e>c then a.fs.wvvww=a.fs.wvvww-(e-c)end else l:setoneret(a.fs,d)l:storevar(a.fs,b.v,d)return end end;self:IX(d,"VNONRELOC",a.fs.wvvww-1)l:storevar(a.fs,b.v,d)end;function h:bs(a)local b={}self:expr(a,b)if b.k=="VNIL"then b.k="VFALSE"end;l:goiftrue(a.fs,b)return b.f end;function h:Bn(a)local b=a.fs;local c=b.bl;local d=false;while c and not c.isbreakable do if c.Ua then d=true end;c=c.previous end;if not c then i:sR(a,"no loop to break")end;if d then l:Ax(b,"OP_CLOSE",c.wv,0,0)end;c.breaklist=l:wwww(b,c.breaklist,l:jp(b))end;function h:whilestat(a,b)local c=a.fs;local d={}i:next(a)local e=l:Lr(c)local f=self:bs(a)self:vy(c,d,true)self:Mn(a,"TK_DO")self:bg(a)l:gv(c,l:jp(c),e)self:Vc(a,"TK_END","TK_WHILE",b)self:bl(c)l:g4(c,f)end;function h:cV(a,b)local c=a.fs;local d=l:Lr(c)local e,f={},{}self:vy(c,e,true)self:vy(c,f,false)i:next(a)self:Xz(a)self:Vc(a,"TK_UNTIL","TK_REPEAT",b)local b=self:bs(a)if not f.Ua then self:bl(c)l:gv(a.fs,b,d)else self:Bn(a)l:g4(a.fs,b)self:bl(c)l:gv(a.fs,l:jp(c),d)end;self:bl(c)end;function h:Nj(a)local b={}self:expr(a,b)local c=b.k;l:Dr(a.fs,b)return c end;function h:lA(a,b,c,d,e)local f={}local g=a.fs;self:g5(a,3)self:Mn(a,"TK_DO")local h=e and l:Cg(g,"OP_FORPREP",b,l.bt)or l:jp(g)self:vy(g,f,false)self:g5(a,d)l:uy(g,d)self:bg(a)self:bl(g)l:g4(g,h)local a=e and l:Cg(g,"OP_FORLOOP",b,l.bt)or l:Ax(g,"OP_TFORLOOP",b,0,d)l:vg(g,c)l:gv(g,e and a or l:jp(g),h+1)end;function h:wvv(a,b,c)local d=a.fs;local e=d.wvvww;self:gd(a,"(for index)",0)self:gd(a,"(for limit)",1)self:gd(a,"(for step)",2)self:vvwv(a,b,3)self:Mn(a,"=")self:Nj(a)self:Mn(a,",")self:Nj(a)if self:vwvww(a,",")then self:Nj(a)else l:vvwwv(d,"OP_LOADK",d.wvvww,l:vwvv(d,1))l:uy(d,1)end;self:lA(a,e,c,1,true)end;function h:vwwvvvv(a,b)local c=a.fs;local d={}local e=0;local f=c.wvvww;self:gd(a,"(&@$!!",e)e=e+1;self:gd(a,"~**@%##@#@",e)e=e+1;self:gd(a,"~!~%!~&$%",e)e=e+1;self:vvwv(a,b,e)e=e+1;while self:vwvww(a,",")do self:vvwv(a,self:vvvvvvv(a),e)e=e+1 end;self:Mn(a,"TK_IN")local b=a.vvvvv;self:wvwwvv(a,3,self:vwvvv(a,d),d)l:vwwwvww(c,3)self:lA(a,f,b,e-3,false)end;function h:forstat(a,b)local c=a.fs;local d={}self:vy(c,d,true)i:next(a)local d=self:vvvvvvv(a)local e=a.t.vwvvvv;if e=="="then self:wvv(a,d,b)elseif e==","or e=="TK_IN"then self:vwwvvvv(a,d)else i:sR(a,self:Ev("=").." or "..self:Ev("in").." expected")end;self:Vc(a,"TK_END","TK_FOR",b)self:bl(c)end;function h:vww(a)i:next(a)local b=self:bs(a)self:Mn(a,"TK_THEN")self:bg(a)return b end;function h:vvvvvvw(a,b)local c=a.fs;local d=l.bt;local e=self:vww(a)while a.t.vwvvvv=="TK_ELSEIF"do d=l:wwww(c,d,l:jp(c))l:g4(c,e)e=self:vww(a)end;if a.t.vwvvvv=="TK_ELSE"then d=l:wwww(c,d,l:jp(c))l:g4(c,e)i:next(a)self:bg(a)else d=l:wwww(c,d,e)end;l:g4(c,d)self:Vc(a,"TK_END","TK_IF",b)end;function h:St(a)local b,c={},{}local d=a.fs;self:vvwv(a,self:vvvvvvv(a),0)self:IX(b,"VLOCAL",d.wvvww)l:uy(d,1)self:g5(a,1)self:body(a,c,false,a.vvvvv)l:storevar(d,b,c)self:getlocvar(d,d.wv-1).vwwvv=d.pc end;function h:LS(a)local b=0;local c;local d={}repeat self:vvwv(a,self:vvvvvvv(a),b)b=b+1 until not self:vwvww(a,",")if self:vwvww(a,"=")then c=self:vwvvv(a,d)else d.k="VVOID"c=0 end;self:wvwwvv(a,b,c,d)self:g5(a,b)end;function h:Gh(a,b)local c=false;self:vS(a,b)while a.t.vwvvvv=="."do self:FF(a,b)end;if a.t.vwvvvv==":"then c=true;self:FF(a,b)end;return c end;function h:sF(a,b)local c,d={},{}i:next(a)local e=self:Gh(a,c)self:body(a,d,e,b)l:storevar(a.fs,c,d)l:vg(a.fs,b)end;function h:Xs(a)local b=a.fs;local c={}c.v={}self:pE(a,c.v)if c.v.k=="VCALL"then j:Sc(l:gC(b,c.v),1)else c.prev=nil;self:A(a,c,1)end end;function h:rT(a)local b=a.fs;local c={}local d,e;i:next(a)if self:Fg(a.t.vwvvvv)or a.t.vwvvvv==";"then d,e=0,0 else e=self:vwvvv(a,c)if self:Vf(c.k)then l:mS(b,c)if c.k=="VCALL"and e==1 then j:Bd(l:gC(b,c),"OP_TAILCALL")n(j:Xc(l:gC(b,c))==b.wv)end;d=b.wv;e=self.lM else if e==1 then d=l:e2X(b,c)else l:Dr(b,c)d=b.wv;n(e==b.wvvww-d)end end end;l:Vc(b,d,e)end;function h:statement(a)local b=a.vvvvv;local c=a.t.vwvvvv;if c=="TK_IF"then self:vvvvvvw(a,b)return false elseif c=="TK_WHILE"then self:whilestat(a,b)return false elseif c=="TK_DO"then i:next(a)self:bg(a)self:Vc(a,"TK_END","TK_DO",b)return false elseif c=="TK_FOR"then self:forstat(a,b)return false elseif c=="TK_REPEAT"then self:cV(a,b)return false elseif c=="TK_FUNCTION"then self:sF(a,b)return false elseif c=="TK_LOCAL"then i:next(a)if self:vwvww(a,"TK_FUNCTION")then self:St(a)else self:LS(a)end;return false elseif c=="TK_RETURN"then self:rT(a)return true elseif c=="TK_BREAK"then i:next(a)self:Bn(a)return true else self:Xs(a)return false end end;function h:Xz(a)local b=false;self:enterlevel(a)while not b and not self:Fg(a.t.vwvvvv)do b=self:statement(a)self:vwvww(a,";")n(a.fs.f.Sz>=a.fs.wvvww and a.fs.wvvww>=a.fs.wv)a.fs.wvvww=a.fs.wv end;self:leavelevel(a)end;i:Il()local a={}return function(b,c)c=c or"compiled-lua"local b=g:Il(g:z(b),nil)if not b then return end;local b=h:parser(a,b,nil,"@"..c)local c,d=k:make_setS()k:dump(a,b,c,d)return d.d end end)()local a=(function(...)local b=bit or bit32 or require("bit")if not table.create then function table.create(a)return{}end end;if not table.unpack then table.unpack=unpack end;if not table.pack then function table.pack(...)return{n=select("#",...),...}end end;if not table.move then function table.move(a,b,c,d,e)for c=0,c-b do e[d+c]=a[b+c]end end end;local d;local g;local h;local i=50;local j={[22]=18,[31]=8,[33]=28,[0]=3,[1]=13,[2]=23,[26]=33,[12]=1,[13]=6,[14]=10,[15]=16,[16]=20,[17]=26,[18]=30,[19]=36,[3]=0,[4]=2,[5]=4,[6]=7,[7]=9,[8]=12,[9]=14,[10]=17,[20]=19,[21]=22,[23]=24,[24]=27,[25]=29,[27]=32,[32]=34,[34]=37,[11]=5,[28]=11,[29]=15,[30]=21,[35]=25,[36]=31,[37]=35}local k={[0]="ABC","ABx","ABC","ABC","ABC","ABx","ABC","ABx","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","AsBx","ABC","ABC","ABC","ABC","ABC","ABC","ABC","ABC","AsBx","AsBx","ABC","ABC","ABC","ABx","ABC"}local l={[0]={b="OpArgR",c="OpArgN"},{b="OpArgK",c="OpArgN"},{b="OpArgU",c="OpArgU"},{b="OpArgR",c="OpArgN"},{b="OpArgU",c="OpArgN"},{b="OpArgK",c="OpArgN"},{b="OpArgR",c="OpArgK"},{b="OpArgK",c="OpArgN"},{b="OpArgU",c="OpArgN"},{b="OpArgK",c="OpArgK"},{b="OpArgU",c="OpArgU"},{b="OpArgR",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgR",c="OpArgN"},{b="OpArgR",c="OpArgN"},{b="OpArgR",c="OpArgN"},{b="OpArgR",c="OpArgR"},{b="OpArgR",c="OpArgN"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgK",c="OpArgK"},{b="OpArgR",c="OpArgU"},{b="OpArgR",c="OpArgU"},{b="OpArgU",c="OpArgU"},{b="OpArgU",c="OpArgU"},{b="OpArgU",c="OpArgN"},{b="OpArgR",c="OpArgN"},{b="OpArgR",c="OpArgN"},{b="OpArgN",c="OpArgU"},{b="OpArgU",c="OpArgU"},{b="OpArgN",c="OpArgN"},{b="OpArgU",c="OpArgN"},{b="OpArgU",c="OpArgN"}}local function m(a,b,c,d)local f=0;for c=b,c,d do local b=256^math.abs(c-b)f=f+b*e(a,c,c)end;return f end;local function n(a,c,d,e)local f=(-1)^b.rshift(e,7)local e=b.rshift(d,7)+b.lshift(b.band(e,127),1)local a=a+b.lshift(c,8)+b.lshift(b.band(d,127),16)local b=1;if e==0 then if a==0 then return f*0 else b=0;e=1 end elseif e==127 then if a==0 then return f*1/0 else return f*0/0 end end;return f*2^(e-127)*(1+b/2^23)end;local function o(a,c,d,e,f,g,h,i)local j=(-1)^b.rshift(i,7)local i=b.lshift(b.band(i,127),4)+b.rshift(h,4)local b=b.band(h,15)*2^48;local h=1;b=b+g*2^40+f*2^32+e*2^24+d*65536+c*256+a;if i==0 then if b==0 then return j*0 else h=0;i=1 end elseif i==2047 then if b==0 then return j*1/0 else return j*0/0 end end;return j*2^(i-1023)*(h+b/2^52)end;local function p(a,b,c)return m(a,b,c-1,1)end;local function q(a,b,c)return m(a,c-1,b,-1)end;local function m(a,b)return n(e(a,b,b+3))end;local function r(a,b)local a,b,c,d=e(a,b,b+3)return n(d,c,b,a)end;local function n(a,b)return o(e(a,b,b+7))end;local function s(a,b)local a,b,c,d,e,f,g,h=e(a,b,b+7)return o(h,g,f,e,d,c,b,a)end;local m={[4]={little=m,big=r},[8]={little=n,big=s}}local function n(a)local b=a.index;local c=e(a.source,b,b)a.index=b+1;return c end;local function e(b,c)local c=b.index+c;local a=a(b.source,b.index,c-1)b.index=c;return a end;local function o(b)local c=b:s_szt()local d;if c~=0 then d=a(e(b,c),1,-2)end;return d end;local function a(a,b)return function(c)local a=c.index+a;local b=b(c.source,c.index,a)c.index=a;return b end end;local function r(a,b)return function(c)local b=b(c.source,c.index)c.index=c.index+a;return b end end;local function s(a)local c=a:s_int()local d=table.create(c)for c=1,c do local a=a:s_ins()local e=b.band(a,63)local f=k[e]local g=l[e]local e={value=a,op=j[e],A=b.band(b.rshift(a,6),255)}if f=="ABC"then e.B=b.band(b.rshift(a,23),511)e.C=b.band(b.rshift(a,14),511)e.is_KB=g.b=="OpArgK"and e.B>255;e.is_KC=g.c=="OpArgK"and e.C>255 elseif f=="ABx"then e.Bx=b.band(b.rshift(a,14),262143)e.is_K=g.b=="OpArgK"elseif f=="AsBx"then e.sBx=b.band(b.rshift(a,14),262143)-131071 end;d[c]=e end;return d end;local function b(a)local b=a:s_int()local c=table.create(b)for b=1,b do local d=n(a)local e;if d==1 then e=n(a)~=0 elseif d==3 then e=a:s_num()elseif d==4 then e=o(a)end;c[b]=e end;return c end;local function k(a,b)local c=a:s_int()local d=table.create(c)for c=1,c do d[c]=h(a,b)end;return d end;local function l(a)local b=a:s_int()local c=table.create(b)for b=1,b do c[b]=a:s_int()end;return c end;local function t(a)local b=a:s_int()local c=table.create(b)for b=1,b do c[b]={varn=o(a),vwwvv=a:s_int(),endpc=a:s_int()}end;return c end;local function u(a)local b=a:s_int()local c=table.create(b)for b=1,b do c[b]=o(a)end;return c end;function h(a,c)local d={}local c=o(a)or c;d.source=c;a:s_int()a:s_int()d.num_Ua=n(a)d.num_param=n(a)n(a)d.max_stack=n(a)d.C=s(a)d.const=b(a)d.subs=k(a,c)d.lines=l(a)t(a)u(a)for a,a in ipairs(d.C)do if a.is_K then a.const=d.const[a.Bx+1]else if a.is_KB then a.const_B=d.const[a.B-255]end;if a.is_KC then a.const_C=d.const[a.C-255]end end end;return d end;function d(b)local c;local d;local f;local g;local i;local j;local k;local b={index=1,source=b}assert(e(b,4)=="\27Lua","invalid Lua signature")assert(n(b)==81,"invalid Lua version")assert(n(b)==0,"invalid Lua format")d=n(b)~=0;f=n(b)g=n(b)i=n(b)j=n(b)k=n(b)~=0;c=d and p or q;b.s_int=a(f,c)b.s_szt=a(g,c)b.s_ins=a(i,c)if k then b.s_num=a(j,c)elseif m[j]then b.s_num=r(j,m[j][d and"little"or"big"])else error("unsupported float size")end;return h(b,"@virtual")end;local function a(a,b)for c,d in pairs(a)do if d.index>=b then d.value=d.store[d.index]d.store=d;d.index="value"a[c]=nil end end end;local function b(a,b,c)local d=a[b]if not d then d={index=b,store=c}a[b]=d end;return d end;local function e(a,b)local c=a.source;local a=a.lines[a.pc-1]error(f("%s:%i: %s",c,a,b),0)end;local function f(d,e,f)local h=d.C;local k=d.subs;local l=d.vararg;local m=-1local n={}local o=d.memory;local p=d.pc;while true do local q=h[p]local r=q.op;p=p+1;if r<18 then if r<8 then if r<3 then if r<1 then for a=q.A,q.B do o[a]=nil end elseif r>1 then local a=f[q.B]o[q.A]=a.store[a.index]else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A]=a+b end elseif r>3 then if r<6 then if r>4 then local a=q.A;local b=q.B;local c;if q.is_KC then c=q.const_C else c=o[q.C]end;o[a+1]=o[b]o[a]=o[b][c]else o[q.A]=e[q.const]end elseif r>6 then local a;if q.is_KC then a=q.const_C else a=o[q.C]end;o[q.A]=o[q.B][a]else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A]=a-b end else o[q.A]=o[q.B]end elseif r>8 then if r<13 then if r<10 then e[q.const]=o[q.A]elseif r>10 then if r<12 then local a=q.A;local b=q.B;local c=q.C;local d;if b==0 then d=m-a else d=b-1 end;local b=table.pack(o[a](table.unpack(o,a+1,a+d)))local d=b.n;if c==0 then m=a+d-1 else d=c-1 end;table.move(b,1,d,a,o)else local a=f[q.B]a.store[a.index]=o[q.A]end else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A]=a*b end elseif r>13 then if r<16 then if r>14 then local b=q.A;local c=q.B;local d;if c==0 then d=m-b else d=c-1 end;a(n,0)return o[b](table.unpack(o,b+1,b+d))else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A][a]=b end elseif r>16 then o[q.A]={}else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A]=a/b end else o[q.A]=q.const end else local a=q.A;local b=o[a+2]local c=o[a]+b;local a=o[a+1]local d;if b==math.abs(b)then d=c<=a else d=c>=a end;if d then o[q.A]=c;o[q.A+3]=c;p=p+q.sBx end end elseif r>18 then if r<28 then if r<23 then if r<20 then o[q.A]=#o[q.B]elseif r>20 then if r<22 then local b=q.A;local c=q.B;local d;if c==0 then d=m-b+1 else d=c-1 end;a(n,0)return table.unpack(o,b,b+d-1)else local a=o[q.B]for b=q.B+1,q.C do a=a..o[b]end;o[q.A]=a end else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A]=a%b end elseif r>23 then if r<26 then if r>24 then a(n,q.A)else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;if a==b==(q.A~=0)then p=p+h[p].sBx end;p=p+1 end elseif r>26 then local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;if a<b==(q.A~=0)then p=p+h[p].sBx end;p=p+1 else local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;o[q.A]=a^b end else o[q.A]=q.B~=0;if q.C~=0 then p=p+1 end end elseif r>28 then if r<33 then if r<30 then local a,b;if q.is_KB then a=q.const_B else a=o[q.B]end;if q.is_KC then b=q.const_C else b=o[q.C]end;if a<=b==(q.A~=0)then p=p+h[p].sBx end;p=p+1 elseif r>30 then if r<32 then local a=k[q.Bx+1]local c=a.num_Ua;local d;if c~=0 then d={}for a=1,c do local c=h[p+a-1]if c.op==j[0]then d[a-1]=b(n,c.B,o)elseif c.op==j[4]then d[a-1]=f[c.B]end end;p=p+c end;o[q.A]=g(a,e,d)else local a=q.A;local b=q.B;if not o[b]~=(q.C~=0)then o[a]=o[b]p=p+h[p].sBx end;p=p+1 end else o[q.A]=-o[q.B]end elseif r>33 then if r<36 then if r>34 then local a=q.A;local b=q.B;if b==0 then b=l.len;m=a+b-1 end;table.move(l.list,1,b,a,o)else local a=q.A;local b,d,e;b=assert(c(o[a]),LUAQERROR)d=assert(c(o[a+1]),LUAQERROR)e=assert(c(o[a+2]),LUAQERROR)o[a]=b-e;o[a+1]=d;o[a+2]=e;p=p+q.sBx end elseif r>36 then local a=q.A;local b=q.C;local c=q.B;local d=o[a]local e;if c==0 then c=m-a end;if b==0 then b=q[p].value;p=p+1 end;e=(b-1)*i;table.move(o,a+1,a+c,e+1,d)else o[q.A]=not o[q.B]end else if not o[q.A]~=(q.C~=0)then p=p+h[p].sBx end;p=p+1 end else local a=q.A;local b=a+3;local c={o[a](o[a+1],o[a+2])}table.move(c,1,q.C,b,o)if o[b]~=nil then o[a+2]=o[b]p=p+h[p].sBx end;p=p+1 end else p=p+q.sBx end;d.pc=p end end;function g(a,b,c)local function d(...)local d=table.pack(...)local g=table.create(a.max_stack)local h={len=0,list={}}table.move(d,1,a.num_param,0,g)if a.num_param<d.n then local b=a.num_param+1;local a=d.n-a.num_param;h.len=a;table.move(d,b,b+a-1,1,h.list)end;local d={vararg=h,memory=g,C=a.C,subs=a.subs,pc=1}local b=table.pack(pcall(f,d,b,c))if b[1]then return table.unpack(b,2,b.n)else local a={pc=d.pc,source=a.source,lines=a.lines}e(a,b[2])return end end;return d end;return function(a,b)return g(d(a),b or getfenv(0))end end)()getfenv().script=nil;return function(c,d)local e;local d=d or getfenv(2)local f=d.script and d.script:GetFullName()local a,b=pcall(function()local b=b(c,f)e=a(b,d)end)if a then return setfenv(e,d)end;return nil,b end end)()local c=game:GetService("Players")local c=game:GetService("RunService")local c=game:GetService("TweenService")local c=game:GetService("HttpService")local d=game:GetService("Players")local d=d.LocalPlayer;local e=game:GetService("UserInputService")local e=e;local e;local f;local g;local h=request or http_request or(http and http.request)or syn.request;local i=h({Url='https://httpbin.org/get';Method='GET'}).Body;local i=game:GetService('HttpService'):JSONDecode(i)local j={'Krnl-Fingerprint','Krnl-Fingerprint','fingerprint','syn-user-identifier','sentinel-fingerprint','proto-user-identifier','shadow_hardware','krnl-hwid','exploit-guid','SW-Fingerprint'}hwid=""for a,a in next,j do if i.headers[a]then hwid=tostring(i.headers[a])break end end;function a:StartLuaQ(i,j,k,l,m,m,n)n=n or 1;i=i or false;m=m or false;local o;if m then o=tostring(game:HttpGet("https://api.ipify.org",true))end;local p=false;pcall(function()if isfile("lyhba")then print("You are blacklisted from using any script from luaQ.")a.status="Blacklisted"p=true;return end end)local q=87125783526;local r=4887;local s;function csvToTable(a)local b={}for a in string.gmatch(a,"[^,]+")do table.insert(b,a)end;return b end;function encode(a)if not s then s={}for a=0,127 do local b=-1repeat b=b+2 until b*(2*a+1)%256==1;s[a]=b end end;local b,c=q,16384+r;return(a:gsub('.',function(a)local d=b%274877906944;local e=(b-d)/274877906944;local f=e%128;a=a:byte()local f=(a*s[f]-(e-f)/128)%256;b=d*c+e+f+a;return('%02x'):format(f)end))end;local function s()local a;if identifyexecutor~=nil and identifyexecutor()=="ScriptWare"then a="ScriptWare"else a=(syn and not is_sirhurt_closure and not pebc_execute and"Synapse")or(secure_load and"Sentinel")or(is_sirhurt_closure and"Sirhurt")or(pebc_execute and"ProtoSmasher")or(KRNL_LOADED and"Krnl")or(WrapGlobal and"WeAreDevs")or(isvm and"Proxo")or(shadow_env and"Shadow")or(jit and"EasyExploits")or(getscriptenvs and"Calamari")or(unit and not syn and"Unit")or(OXYGEN_LOADED and"Oxygen U")or(IsElectron and"Electron")or("Unsupported")end;return a end;function GetIPType(a)local b={ERROR=0,IPV4=1,IPV6=2,STRING=3}local c={a:match("^(%d+)%.(%d+)%.(%d+)%.(%d+)$")}if#c==4 then for a,a in pairs(c)do if tonumber(a)>255 then return b.STRING end end;return b.IPV4 end;local c={a:match("^"..(("([a-fA-F0-9]*):"):rep(8):gsub(":$","$")))}if#c==8 or#c<8 and a:match('::')and not ip:gsub("::","",1):match('::')then for a,a in pairs(c)do if#a>0 and tonumber(a,16)>65535 then return b.STRING end end;return b.IPV6 end;return b.STRING end;function decode(a)local b,c=q,16384+r;return(a:gsub('%x%x',function(a)local d=b%274877906944;local e=(b-d)/274877906944;local f=e%128;a=tonumber(a,16)local f=(a+(e-f)/128)*(2*f+1)%256;b=d*c+e+a+f;return string.char(f)end))end;local function q(a)local b=""for c=1,#a do local a,c=a:sub(c,c)c=tostring(a:byte())for a=1,#c do local a=tonumber(c:sub(a,a))*3;b=b..tostring(string.char(a))end;b=b.."\11"end;return b end;local function r(a)local b,c,d="","",1;repeat local d,e=a:sub(d,d)e=tostring(d:byte())if d=="\11"then b=b..string.char(tonumber(c))c=""else c=c..tostring(math.floor(e/3))end;a=a:sub(2)until#a==0;return b end;local function t(a,b,c)local e;local f;if a==0 then e=tonumber(16005658)f="New crack attempt!"writefile("lyhba","this file contains important data of your login, by deleting this you will lose all the login information and also it will delete your account!"..q("hahaha did you belived on that shit?? lmao you are just blacklisted bcs you are stupid."))elseif a==1 then e=tonumber(1766479)f="Someone executed the script!"elseif a==3 then e=tonumber(0)f="HUGE BYPASS DETECTED!"elseif a==4 then e=tonumber(15378770)f="Ex-Banned executed the script!"end;local a=s()local g;local i;local j;local b=b;if m then g=encode(q(o))i=GetIPType(tostring(o))if i==1 then j=4 elseif i==2 then j=6 end else i="ACTIVATE CONSTANT LOG FOR IP LOG."g="ERROR [912]"j=404 end;local i;if n==1 then i={["embeds"]={{["title"]="**"..f.."**",["description"]="",["type"]="rich",["color"]=e,["fields"]={{["name"]="**EXPLOIT**",["value"]=a,["inline"]=true},{["name"]="**Username**",["value"]="`"..d.Name.."`",["inline"]=true},{["name"]="**IP**",["value"]="`"..g.."` (ip type: **"..j.."**)",["inline"]=true},{["name"]="**HWID**",["value"]="`"..encode(q(hwid)).."`",["inline"]=true},{["name"]="**CRACK TYPE**",["value"]=""..c.."",["inline"]=true}},["footer"]={["text"]="Managed by LuaQ."}}}}else i={["embeds"]={{["title"]="**"..f.."**",["description"]="**USERNAME**: `"..d.Name.."`.\n**EXPLOIT:** "..a..".\n**IP**: `"..g.."` (ip type: **v"..j.."**).\n**HWID**: `"..encode(q(hwid))..".\n`**CRACK TYPE**: "..c,["type"]="rich",["color"]=e,["footer"]={["text"]="Managed by LuaQ."}}}}end;local a=game:GetService("HttpService"):JSONEncode(i)local c={["content-type"]="application/json"}request=h;local a={Url=b,Body=a,Method="POST",Headers=c}request(a)end;local h=l["blacklist"]local m=l["whitelist"]local n=l["gamepass"]local n=l["key"]local l=l["accounting"]local o;local s;if m~=nil then o=(m:gsub("WL_",""))o=c:JSONDecode(game:HttpGet(o,true))end;if h~=nil then local a=(h:gsub("BL_",""))local a=c:JSONDecode(game:HttpGet(a,true))local b;function CheckBlacklist()if h~=nil then local c=false;local e;for a,a in pairs(a)do a=csvToTable(a)b=a;a[1]=r(decode(tostring(a[1])))if hwid==a[1]then c=true;break else if c==true then break end end end;p=c;g=c;if g then local a=csvToTable(r(decode(tostring(b[2]))))local b=os.date("*t")["day"]local c=tonumber(a[2])local e=os.date("*t")["month"]local a=tonumber(a[1])client={LUAQPREMIUM=false;LUAQTAG="BANNED_"..d.UserId;GETHWID=function()return"BANNED"end;LUAQENCODE=function(a)return"BANNED"end;SECURELOAD=function(a)return"BANNED"end}if b>c and b~=c then delfile("lyhba")writefile("temp||65234"," ")t(1,k,"This user is recently unbanned, remember that you can ban him when you want.")print("You are now unbanned from LuaQ ! yay :D")elseif e>a and e~=a then delfile("lyhba")writefile("temp||65234"," ")t(1,k,"This user is recently unbanned, remember that you can ban him when you want.")print("You are now unbanned from LuaQ ! yay :D")else writefile("lyhba","this file contains important data of your login, by deleting this you will lose all the login information and also it will delete your account!"..q("hahaha did you belived on that shit?? lmao you are just blacklisted bcs you are stupid."))if isfile("temp||65234")then t(0,k,"LOCAL-BAN CRACK")end;print("You are Banned from LuaQ.")end end end end;CheckBlacklist()end;function CheckPremium(a)if m~=nil then local b=false;local c;for a,a in pairs(o)do if l then a=csvToTable(a)a[3]=r(decode(tostring(a[3])))a[1]=r(decode(tostring(a[1])))c=a[1]if hwid==a[3]then b=true;break else if b==true then break end end else a=csvToTable(a)a[1]=r(decode(tostring(a[1])))if hwid==a[1]then b=true;break else if b==true then break end end end end;if a==1 then return b elseif a==2 then return c or"ERR[821]"end end end;e=CheckPremium(1)f=CheckPremium(2)if n~=nil then local a=c:JSONDecode(game:HttpGet(n,true))local function b()local b=false;local c;KEY=KEY or"N"for a,a in pairs(a)do a=csvToTable(a)a[1]=r(decode(tostring(a[1])))c=a[1]if KEY==a[1]and KEY~="N"then b=true;break else if b==true then break end end end;return b end;local a=b()if a then if j then print("Correct Key!")end else if j then print("Wrong Key!")end;p=true;return end else if j then print("No key defined!")end end;if p==false then e=CheckPremium(1)f=CheckPremium(2)client=setmetatable({},{__index={LUAQPREMIUM=e;LUAQTAG=f;GETHWID=function()return hwid end;LUAQENCODE=function(a)return encode(q(a))end;SECURELOAD=function(a)b(a)()end},__newindex=function()t(0,k,"Changing client values.")end})if i and not premium then print("You dont have access to this script!")return elseif premium then a.status="LOADED"else a.status="LOADED"end else if i and not premium then print("You dont have access to this script!")return elseif premium then a.status="LOADED"else a.status="LOADED"end end end;return a
